{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/PRIYANSHU/Desktop/FINANCE TRACKER/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import styled from\"styled-components\";import bg from'./images/bg.png';import{MainLayout}from\"./styles/Layouts\";import Orb from\"./components/orb/Orb\";import Navigation from\"./components/Navigation/Navigation\";import React,{useMemo,useState}from\"react\";import Dashboard from\"./components/Dashboard/Dashboard\";import Income from\"./components/Income/Income\";import Expenses from\"./components/Expenses/Expenses\";import{useGlobalContext}from\"./context/GlobalContext\";import View from\"./components/View/View\";import Login from\"./components/Login/Login\";import Register from\"./components/Register/Register\";import{BrowserRouter as Router,Route,Routes,Navigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isAuthenticated,setIsAuthenticated]=useState(localStorage.getItem('token')?true:false);// Check local storage for token on initial load\nconst[active,setActive]=React.useState(1);const global=useGlobalContext();console.log(global);const displayData=()=>{switch(active){case 1:return/*#__PURE__*/_jsx(Dashboard,{});case 2:return/*#__PURE__*/_jsx(View,{});case 3:return/*#__PURE__*/_jsx(Income,{});case 4:return/*#__PURE__*/_jsx(Expenses,{});default:return/*#__PURE__*/_jsx(Dashboard,{});}};const orbMemo=useMemo(()=>{return/*#__PURE__*/_jsx(Orb,{});},[]);// Function to handle logout\nconst handleLogout=()=>{localStorage.removeItem('token');setIsAuthenticated(false);};// Check local storage for token on initial load and update isAuthenticated state\nReact.useEffect(()=>{const token=localStorage.getItem('token');setIsAuthenticated(token?true:false);},[]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(AppStyled,{bg:bg,className:\"App\",children:[orbMemo,/*#__PURE__*/_jsxs(MainLayout,{children:[isAuthenticated&&/*#__PURE__*/_jsx(Navigation,{active:active,setActive:setActive}),\" \",/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/\"}):/*#__PURE__*/_jsx(Login,{setIsAuthenticated:setIsAuthenticated})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:isAuthenticated?displayData():/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})})]})]})});}const AppStyled=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n height: 100vh;\\n background-image: url(\",\");\\n position: relative;\\n main{\\n      flex: 1;\\n      background: rgba(252, 246, 249, 0.78);\\n      border: 3px solid #FFFFFF;\\n      backdrop-filter: blur(4.5px);\\n      border-radius: 32px;\\n      overflow: auto;\\n      overflow-x: hidden;\\n      &:: -webkit-scrollbar{\\n      width: 0;\\n      }\\n    }\\n\"])),props=>props.bg);export default App;","map":{"version":3,"names":["styled","bg","MainLayout","Orb","Navigation","React","useMemo","useState","Dashboard","Income","Expenses","useGlobalContext","View","Login","Register","BrowserRouter","Router","Route","Routes","Navigate","jsx","_jsx","jsxs","_jsxs","App","isAuthenticated","setIsAuthenticated","localStorage","getItem","active","setActive","global","console","log","displayData","orbMemo","handleLogout","removeItem","useEffect","token","children","AppStyled","className","path","element","to","div","_templateObject","_taggedTemplateLiteral","props"],"sources":["C:/Users/PRIYANSHU/Desktop/FINANCE TRACKER/frontend/src/App.js"],"sourcesContent":["import styled from \"styled-components\";\r\nimport bg from './images/bg.png'\r\nimport { MainLayout } from \"./styles/Layouts\";\r\nimport Orb from \"./components/orb/Orb\";\r\nimport Navigation from \"./components/Navigation/Navigation\";\r\nimport React, { useMemo, useState } from \"react\";\r\nimport Dashboard from \"./components/Dashboard/Dashboard\";\r\nimport Income from \"./components/Income/Income\";\r\nimport Expenses from \"./components/Expenses/Expenses\";\r\nimport { useGlobalContext } from \"./context/GlobalContext\";\r\nimport View from \"./components/View/View\";\r\nimport Login from \"./components/Login/Login\";\r\nimport Register from \"./components/Register/Register\";\r\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\r\n\r\nfunction App() {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(localStorage.getItem('token') ? true : false); // Check local storage for token on initial load\r\n\r\n  const [active, setActive] = React.useState(1)\r\n\r\n  const global = useGlobalContext()\r\n  console.log(global)\r\n\r\n  const displayData = () => {\r\n    switch(active){\r\n      case 1:\r\n return <Dashboard/>\r\n      case 2:\r\n return <View/>\r\n      case 3:\r\n return <Income/>\r\n      case 4:\r\n return <Expenses/>\r\n      default:\r\n return <Dashboard/>\r\n    }\r\n  }\r\n\r\n  const orbMemo = useMemo(()=> {\r\n    return <Orb/>\r\n  },[])\r\n  \r\n  // Function to handle logout\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    setIsAuthenticated(false);\r\n  };\r\n  \r\n  // Check local storage for token on initial load and update isAuthenticated state\r\n  React.useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    setIsAuthenticated(token ? true : false);\r\n  }, []);\r\n\r\n  return (\r\n    <Router>\r\n <AppStyled bg={bg} className=\"App\">\r\n {orbMemo}\r\n <MainLayout>\r\n {isAuthenticated && <Navigation active={active} setActive={setActive}/>} {/* Show navigation only when authenticated */}\r\n <main>\r\n <Routes>\r\n <Route path=\"/login\" element={isAuthenticated ? <Navigate to=\"/\" /> : <Login setIsAuthenticated={setIsAuthenticated} />} />\r\n <Route path=\"/register\" element={<Register />} />\r\n <Route path=\"/\" element={isAuthenticated ? displayData() : <Navigate to=\"/login\" />} />\r\n {/* Add routes for other components if needed, e.g., /income, /expenses */}\r\n </Routes>\r\n </main>\r\n </MainLayout>\r\n </AppStyled>\r\n    </Router>\r\n  );\r\n}\r\n\r\nconst AppStyled = styled.div`\r\n height: 100vh;\r\n background-image: url(${props => props.bg});\r\n position: relative;\r\n main{\r\n      flex: 1;\r\n      background: rgba(252, 246, 249, 0.78);\r\n      border: 3px solid #FFFFFF;\r\n      backdrop-filter: blur(4.5px);\r\n      border-radius: 32px;\r\n      overflow: auto;\r\n      overflow-x: hidden;\r\n      &:: -webkit-scrollbar{\r\n      width: 0;\r\n      }\r\n    }\r\n`;\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}